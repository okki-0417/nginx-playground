<!DOCTYPE html>
<html lang="ja" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>nginx Learning Server</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="navbar bg-base-100 shadow-sm">
    <div class="flex-1">
      <span class="text-xl font-bold text-primary">nginx Learning Server</span>
    </div>
  </div>

  <div class="max-w-6xl mx-auto p-8">
    <!-- Navigation Links -->
    <section class="mb-10">
      <h1 class="text-2xl font-bold mb-4">Sites & Services</h1>
      <div class="flex flex-wrap gap-3">
        <a href="/chat/" class="btn btn-outline btn-sm">Chat (WebSocket)</a>
        <a href="/users/" class="btn btn-outline btn-sm">Users</a>
        <a href="/todos/" class="btn btn-outline btn-sm">Todos</a>
        <a href="/api/health" class="btn btn-outline btn-secondary btn-sm">API Health</a>
        <a href="/flask/" class="btn btn-outline btn-accent btn-sm">Flask</a>
        <a href="/wordpress/" class="btn btn-outline btn-info btn-sm">WordPress</a>
      </div>

      <div class="mt-4 text-sm">
        <div class="mockup-code">
          <pre><code>Browser → nginx (SSL, HTTP/2)
   ├── /           → static (静的ファイル)
   ├── /api/*      → Bun (HTTP Proxy)
   ├── /flask/*    → Flask (uWSGI)
   └── /wordpress/* → PHP-FPM (FastCGI)</code></pre>
        </div>
      </div>
    </section>

    <div class="divider"></div>

    <!-- Config Editor with Tabs -->
    <section>
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-2xl font-bold">nginx Config Editor</h2>
        <div class="flex gap-2">
          <button id="save-btn" class="btn btn-primary btn-sm" disabled>
            保存 (Ctrl+S)
          </button>
          <button id="reload-btn" class="btn btn-warning btn-sm">
            nginx reload
          </button>
        </div>
      </div>

      <div id="tabs" class="tabs tabs-boxed mb-4">
        <span class="loading loading-spinner loading-sm ml-2"></span>
      </div>

      <textarea
        id="editor"
        rows="7"
        class="textarea textarea-bordered w-full font-mono [tab-size:2] text-sm leading-relaxed"
        placeholder="タブを選択してください..."
        disabled
      ></textarea>
      <div id="status" class="mt-2 text-sm h-5"></div>
    </section>
  </div>

  <script type="module" src="/index.ts"></script>
</body>
</html>
